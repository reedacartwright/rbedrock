<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Load and store SubChunkBlocks data — SubChunkBlocks • rbedrock</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Load and store SubChunkBlocks data — SubChunkBlocks"><meta name="description" content="SubChunkBlocks data (tag 47) stores information about the blocks in a world.
Each chunk is divided into multiple 16x16x16 subchunks, and the blocks for
each subchunk are stored separately. Blocks are stored per subchunk in a
palette-based format. Block storage is separated into multiple layers where
each layer has its own block palette and block ids. In practices subchunks
have either one or two layers, and the extra layer is most-often used to
store water for water-logged blocks."><meta property="og:description" content="SubChunkBlocks data (tag 47) stores information about the blocks in a world.
Each chunk is divided into multiple 16x16x16 subchunks, and the blocks for
each subchunk are stored separately. Blocks are stored per subchunk in a
palette-based format. Block storage is separated into multiple layers where
each layer has its own block palette and block ids. In practices subchunks
have either one or two layers, and the extra layer is most-often used to
store water for water-logged blocks."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">rbedrock</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.4.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/reedacartwright/rbedrock/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Load and store SubChunkBlocks data</h1>
      <small class="dont-index">Source: <a href="https://github.com/reedacartwright/rbedrock/blob/main/R/blocks-subchunk.R" class="external-link"><code>R/blocks-subchunk.R</code></a></small>
      <div class="d-none name"><code>SubChunkBlocks.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>SubChunkBlocks data (tag 47) stores information about the blocks in a world.
Each chunk is divided into multiple 16x16x16 subchunks, and the blocks for
each subchunk are stored separately. Blocks are stored per subchunk in a
palette-based format. Block storage is separated into multiple layers where
each layer has its own block palette and block ids. In practices subchunks
have either one or two layers, and the extra layer is most-often used to
store water for water-logged blocks.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">get_subchunk_blocks_value</span><span class="op">(</span><span class="va">x</span>, <span class="va">z</span>, <span class="va">dimension</span>, <span class="va">subchunk</span>, db <span class="op">=</span> <span class="fu"><a href="default_db.html">default_db</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">get_subchunk_blocks_data</span><span class="op">(</span><span class="va">x</span>, <span class="va">z</span>, <span class="va">dimension</span>, <span class="va">subchunk</span>, db <span class="op">=</span> <span class="fu"><a href="default_db.html">default_db</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">put_subchunk_blocks_value</span><span class="op">(</span></span>
<span>  <span class="va">value</span>,</span>
<span>  <span class="va">x</span>,</span>
<span>  <span class="va">z</span>,</span>
<span>  <span class="va">dimension</span>,</span>
<span>  <span class="va">subchunk</span>,</span>
<span>  db <span class="op">=</span> <span class="fu"><a href="default_db.html">default_db</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  version <span class="op">=</span> <span class="fl">9L</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">put_subchunk_blocks_data</span><span class="op">(</span></span>
<span>  <span class="va">values</span>,</span>
<span>  <span class="va">x</span>,</span>
<span>  <span class="va">z</span>,</span>
<span>  <span class="va">dimension</span>,</span>
<span>  <span class="va">subchunk</span>,</span>
<span>  db <span class="op">=</span> <span class="fu"><a href="default_db.html">default_db</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  version <span class="op">=</span> <span class="fl">9L</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">read_subchunk_blocks_value</span><span class="op">(</span><span class="va">rawvalue</span>, subchunk_position <span class="op">=</span> <span class="cn">NA_integer_</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">write_subchunk_blocks_value</span><span class="op">(</span><span class="va">value</span>, <span class="va">subchunk_position</span>, version <span class="op">=</span> <span class="fl">9L</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">subchunk_blocks_value_as_array</span><span class="op">(</span></span>
<span>  <span class="va">value</span>,</span>
<span>  names_only <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  extra_block <span class="op">=</span> <span class="op">!</span><span class="va">names_only</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">subchunk_blocks_array_as_value</span><span class="op">(</span><span class="va">r</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">subchunk_origins</span><span class="op">(</span><span class="va">keys</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">subchunk_coords</span><span class="op">(</span><span class="va">ind</span>, origins <span class="op">=</span> <span class="fu">subchunk_origins</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">ind</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-x-z-dimension">x, z, dimension<a class="anchor" aria-label="anchor" href="#arg-x-z-dimension"></a></dt>
<dd><p>Chunk coordinates to extract data from.
<code>x</code> can also be a character vector of db keys.</p></dd>


<dt id="arg-subchunk">subchunk<a class="anchor" aria-label="anchor" href="#arg-subchunk"></a></dt>
<dd><p>Subchunk indexes</p></dd>


<dt id="arg-db">db<a class="anchor" aria-label="anchor" href="#arg-db"></a></dt>
<dd><p>A bedrockdb object.</p></dd>


<dt id="arg-value">value<a class="anchor" aria-label="anchor" href="#arg-value"></a></dt>
<dd><p>A SubChunkBlocks data value</p></dd>


<dt id="arg-version">version<a class="anchor" aria-label="anchor" href="#arg-version"></a></dt>
<dd><p>Which format of subchunk data to use</p></dd>


<dt id="arg-values">values<a class="anchor" aria-label="anchor" href="#arg-values"></a></dt>
<dd><p>A (named) list of SubChunkBlocks data values. If <code>x</code> is
missing, the names of <code>values</code> will be taken as the keys.</p></dd>


<dt id="arg-rawvalue">rawvalue<a class="anchor" aria-label="anchor" href="#arg-rawvalue"></a></dt>
<dd><p>A raw vector</p></dd>


<dt id="arg-subchunk-position">subchunk_position<a class="anchor" aria-label="anchor" href="#arg-subchunk-position"></a></dt>
<dd><p>Optional, an integer. When reading a value, it will
be used if the value's position attribute is missing. When writing a value,
it will be used in place of the value's position attribute.</p></dd>


<dt id="arg-names-only">names_only<a class="anchor" aria-label="anchor" href="#arg-names-only"></a></dt>
<dd><p>A logical scalar. Return only the names of the blocks,
ignoring block states.</p></dd>


<dt id="arg-extra-block">extra_block<a class="anchor" aria-label="anchor" href="#arg-extra-block"></a></dt>
<dd><p>A logical scalar. Append the extra block layer to the
output (separated by ";"). This is mostly useful if you have waterlogged
blocks. If the extra block is air, it will not be appended.</p></dd>


<dt id="arg-r">r<a class="anchor" aria-label="anchor" href="#arg-r"></a></dt>
<dd><p>A character array</p></dd>


<dt id="arg-keys">keys<a class="anchor" aria-label="anchor" href="#arg-keys"></a></dt>
<dd><p>A character vector of keys.</p></dd>


<dt id="arg-ind">ind<a class="anchor" aria-label="anchor" href="#arg-ind"></a></dt>
<dd><p>Numeric vector or a named list of numeric vectors containing
indexes for blocks in a subchunk.</p></dd>


<dt id="arg-origins">origins<a class="anchor" aria-label="anchor" href="#arg-origins"></a></dt>
<dd><p>A matrix of subchunk origins.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p><code>get_subchunk_blocks_value()</code> returns a SubChunkBlocks data value.
<code><a href="Biomes.html">get_biomes_data()</a></code> returns a named list of SubChunkBlocks data values.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The format description can be found at
<a href="https://gist.github.com/Tomcc/a96af509e275b1af483b25c543cfbf37" class="external-link">https://gist.github.com/Tomcc/a96af509e275b1af483b25c543cfbf37</a>.</p><ul><li><p><code>get_subchunk_blocks_value()</code> and <code>get_subchunk_blocks_data()</code> load
SubChunkBlocks data from <code>db</code>. <code>get_subchunk_blocks_value()</code> loads data
for a single subchunk, and <code>get_subchunk_blocks_data()</code> loads data for
multiple subchunks.</p></li>
<li><p><code>put_subchunk_blocks_value()</code> and <code>put_subchunk_blocks_data()</code> store
SubChunkBlocks data into <code>db</code>.</p></li>
<li><p><code>write_subchunk_blocks_value()</code> encodes SubChunkBlocks data into a raw
vector. <code>read_subchunk_blocks_value()</code> decodes binary SubChunkBlocks data.</p></li>
<li><p><code>subchunk_blocks_value_as_array()</code> converts SubChunkBlocks data into a
character array.</p></li>
<li><p><code>subchunk_origins()</code> returns a matrix containing the block coordinate of
the lower NW corner of subchunk keys.</p></li>
<li><p><code>subchunk_coords()</code> determines the block coordinates of blocks based on
their array indexes and their subchunk origins.</p></li>
</ul></div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Reed Cartwright.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

